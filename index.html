<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Tajawal', Arial, sans-serif;
            line-height: 1.6;
            background-color: #f5f7fa;
            color: #333;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1, h2, h3, h4 {
            margin-top: 0;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border: 1px solid #e0e0e0;
        }
        
        .card-title {
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        input, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background 0.3s;
            width: 100%;
            margin-top: 10px;
        }
        
        button:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .appliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .appliance-card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            background: white;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }
        
        .appliance-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .appliance-card h4 {
            margin-top: 0;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .appliance-meta {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-size: 0.9rem;
        }
        
        .appliance-controls {
            margin-top: 15px;
        }
        
        .results-section {
            display: none;
            margin-top: 30px;
        }
        
        .compatibility-summary {
            background: var(--light-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .compatibility-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .compatibility-item:last-child {
            border-bottom: none;
        }
        
        .compatibility-status {
            font-weight: bold;
        }
        
        .status-compatible {
            color: var(--success-color);
        }
        
        .status-warning {
            color: var(--warning-color);
        }
        
        .status-danger {
            color: var(--danger-color);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: right;
            border: 1px solid #ddd;
        }
        
        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .selected-appliances-table {
            margin: 20px 0;
        }
        
        .selected-appliances-table h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .recommendations {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-right: 4px solid var(--primary-color);
        }
        
        .recommendations ul {
            padding-right: 20px;
        }
        
        .recommendations li {
            margin-bottom: 8px;
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .badge-success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .badge-warning {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .badge-danger {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .energy-calculation {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
        }
        
        .calculation-step {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .formula {
            padding: 12px;
            background: #f1f8fe;
            border-radius: 6px;
            font-family: monospace;
            font-size: 1.1em;
            margin: 10px 0;
            border-right: 3px solid #3498db;
        }
        
        .sub-calculation {
            margin-right: 30px;
            background: #f0f0f0;
        }
        
        .help-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
        
        .summary-card {
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .summary-card.success {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }
        
        .result {
            font-size: 1.1em;
            line-height: 1.8;
        }
        
        .appliance-categories {
            margin-bottom: 20px;
        }
        
        .category-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .tab-btn {
            padding: 8px 15px;
            background: #e0e0e0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            background: var(--primary-color);
            color: white;
        }
        
        .appliance-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .appliance-icon {
            font-size: 1.5rem;
        }
        
        .appliance-details {
            margin: 10px 0;
            font-size: 0.9rem;
        }
        
        .appliance-details div {
            margin-bottom: 5px;
        }
        
        .quantity-control,
        .hours-control {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 8px;
        }
        
        .quantity-control label,
        .hours-control label {
            font-size: 0.8rem;
            margin: 0;
        }
        
        .quantity-control input,
        .hours-control input {
            width: 60px;
            padding: 5px;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .share-section {
            margin-top: 20px;
            text-align: center;
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .share-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .share-btn img {
            width: 24px;
            height: 24px;
        }
        
        .whatsapp {
            background-color: #25D366;
            color: white;
        }
        
        .signature {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 0.9rem;
            color: #666;
        }
        
        .signature a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .signature a:hover {
            text-decoration: underline;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¥Ø¶Ø§ÙØ§Øª */
        .custom-appliance-form {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-right: 4px solid var(--primary-color);
        }
        
        .custom-appliance-form h3 {
            margin-top: 0;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .custom-appliance-fields {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .custom-appliance-controls {
            display: flex;
            gap: 10px;
        }
        
        .custom-appliance-controls button {
            width: auto;
            margin-top: 0;
        }
        
        .appliance-actions {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }
        
        .appliance-actions button {
            padding: 5px 10px;
            font-size: 0.8rem;
            width: auto;
            margin: 0;
        }
        
        .edit-btn {
            background-color: var(--warning-color);
        }
        
        .delete-btn {
            background-color: var(--danger-color);
        }
        
        .advanced-options {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-right: 4px solid var(--primary-color);
        }
        
        .advanced-options h3 {
            margin-top: 0;
            color: var(--primary-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .advanced-options-content {
            display: none;
        }
        
        .advanced-options.active .advanced-options-content {
            display: block;
        }
        
        .custom-input-option {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .custom-input-option input {
            width: 100px;
        }
        
        .no-appliances-message {
            grid-column: 1/-1;
            text-align: center;
            color: #666;
            padding: 20px;
        }
        
        @media (max-width: 768px) {
            .appliance-grid {
                grid-template-columns: 1fr;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .card {
                padding: 15px;
            }
            
            .category-tabs {
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .appliance-controls {
                flex-direction: column;
            }
            
            .share-buttons {
                flex-direction: column;
            }
            
            .custom-appliance-fields {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 15px 0;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            th, td {
                padding: 8px 10px;
                font-size: 0.8rem;
            }
            
            .appliance-card {
                padding: 10px;
            }
            
            .share-btn {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</h1>
            <p>Ø­Ø§Ø³Ø¨Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªØ­Ø¯ÙŠØ¯ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ</p>
        </header>
        
        <div class="card">
            <h2 class="card-title">âš™ï¸ Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ</h2>
            
            <div class="form-group">
                <label for="panel-size">Ù‚Ø¯Ø±Ø© Ø§Ù„Ù„ÙˆØ­ Ø§Ù„Ø´Ù…Ø³ÙŠ (ÙˆØ§Øª)</label>
                <select id="panel-size" class="form-control">
                    <option value="100">100 ÙˆØ§Øª</option>
                    <option value="150">150 ÙˆØ§Øª</option>
                    <option value="200">200 ÙˆØ§Øª</option>
                    <option value="250">250 ÙˆØ§Øª</option>
                    <option value="300">300 ÙˆØ§Øª</option>
                    <option value="350">350 ÙˆØ§Øª</option>
                    <option value="400">400 ÙˆØ§Øª</option>
                    <option value="450">450 ÙˆØ§Øª</option>
                    <option value="500">500 ÙˆØ§Øª</option>
                    <option value="550">550 ÙˆØ§Øª</option>
                    <option value="600">600 ÙˆØ§Øª</option>
                    <option value="custom">Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© Ù…Ø®ØµØµØ©</option>
                </select>
                <div id="custom-panel-size-container" style="display: none; margin-top: 10px;">
                    <input type="number" id="custom-panel-size" min="1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¨Ø§Ù„ÙˆØ§Øª" class="form-control" value="300">
                </div>
            </div>
            
            <div class="form-group">
                <label for="panel-count">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø´Ù…Ø³ÙŠØ©</label>
                <input type="number" id="panel-count" min="1" value="1" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="inverter-size">Ø³Ø¹Ø© Ø§Ù„Ù…Ø­ÙˆÙ„ (Ø§Ù„Ø¥Ù†ÙØ±ØªØ±) Ø¨Ø§Ù„ÙˆØ§Øª</label>
                <select id="inverter-size" class="form-control">
                    <option value="300">300 ÙˆØ§Øª</option>
                    <option value="500">500 ÙˆØ§Øª</option>
                    <option value="800">800 ÙˆØ§Øª</option>
                    <option value="1000">1000 ÙˆØ§Øª</option>
                    <option value="1500">1500 ÙˆØ§Øª</option>
                    <option value="2000">2000 ÙˆØ§Øª</option>
                    <option value="3000">3000 ÙˆØ§Øª</option>
                    <option value="5000">5000 ÙˆØ§Øª</option>
                    <option value="7500">7500 ÙˆØ§Øª</option>
                    <option value="10000">10000 ÙˆØ§Øª</option>
                    <option value="custom">Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© Ù…Ø®ØµØµØ©</option>
                </select>
                <div id="custom-inverter-size-container" style="display: none; margin-top: 10px;">
                    <input type="number" id="custom-inverter-size" min="1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø© Ø¨Ø§Ù„ÙˆØ§Øª" class="form-control" value="1000">
                </div>
            </div>
            
            <div class="form-group">
                <label for="battery-capacity">Ø³Ø¹Ø© Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©)</label>
                <select id="battery-capacity" class="form-control">
                    <option value="50">50 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="100">100 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="150">150 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="200">200 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="250">250 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="300">300 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="400">400 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="500">500 Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©</option>
                    <option value="custom">Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© Ù…Ø®ØµØµØ©</option>
                </select>
                <div id="custom-battery-capacity-container" style="display: none; margin-top: 10px;">
                    <input type="number" id="custom-battery-capacity" min="1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø© Ø¨Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø©" class="form-control" value="100">
                </div>
            </div>
            
            <div class="form-group">
                <label for="battery-count">Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª</label>
                <input type="number" id="battery-count" min="1" value="1" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="battery-voltage">Ø¬Ù‡Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù… (ÙÙˆÙ„Øª)</label>
                <select id="battery-voltage" class="form-control">
                    <option value="12">12 ÙÙˆÙ„Øª</option>
                    <option value="24">24 ÙÙˆÙ„Øª</option>
                    <option value="48">48 ÙÙˆÙ„Øª</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="sun-hours">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´Ù…Ø³ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</label>
                <select id="sun-hours" class="form-control">
                    <option value="3">3 Ø³Ø§Ø¹Ø§Øª (Ø´ØªØ§Ø¡)</option>
                    <option value="4">4 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="5" selected>5 Ø³Ø§Ø¹Ø§Øª (Ù…ØªÙˆØ³Ø·)</option>
                    <option value="6">6 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="7">7 Ø³Ø§Ø¹Ø§Øª (ØµÙŠÙ)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="backup-days">Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
                <select id="backup-days" class="form-control">
                    <option value="1">1 ÙŠÙˆÙ…</option>
                    <option value="2" selected>2 ÙŠÙˆÙ…</option>
                    <option value="3">3 Ø£ÙŠØ§Ù…</option>
                </select>
            </div>
            
            <div class="advanced-options">
                <h3 onclick="toggleAdvancedOptions()">
                    <span>âš™ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</span>
                    <span>â–¼</span>
                </h3>
                <div class="advanced-options-content">
                    <div class="form-group">
                        <label for="safety-margin">Ù‡Ø§Ù…Ø´ Ø§Ù„Ø£Ù…Ø§Ù† (%)</label>
                        <input type="number" id="safety-margin" min="0" max="50" value="20" class="form-control">
                        <p class="help-text">Ù†Ø³Ø¨Ø© Ø²ÙŠØ§Ø¯Ø© Ø¹Ù† Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„Ù†Ù‚Øµ</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="system-losses">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø³Ø§Ø¦Ø± (%)</label>
                        <input type="number" id="system-losses" min="0" max="30" value="15" class="form-control">
                        <p class="help-text">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø³Ø§Ø¦Ø± ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ (Ø£Ø³Ù„Ø§ÙƒØŒ ØªØ­ÙˆÙŠÙ„ØŒ Ø¥Ù„Ø®)</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="battery-dod">Ø¹Ù…Ù‚ ØªÙØ±ÙŠØº Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (%)</label>
                        <input type="number" id="battery-dod" min="30" max="80" value="50" class="form-control">
                        <p class="help-text">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙ‡Ø§ Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2 class="card-title">ğŸ”Œ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</h2>
            
            <div class="appliance-categories">
                <h3>ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©:</h3>
                <div class="category-tabs">
                    <button class="tab-btn active" onclick="filterAppliances('all')">Ø§Ù„ÙƒÙ„</button>
                    <button class="tab-btn" onclick="filterAppliances('lighting')">Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©</button>
                    <button class="tab-btn" onclick="filterAppliances('kitchen')">Ø§Ù„Ù…Ø·Ø¨Ø®</button>
                    <button class="tab-btn" onclick="filterAppliances('electronics')">Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</button>
                    <button class="tab-btn" onclick="filterAppliances('appliances')">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©</button>
                    <button class="tab-btn" onclick="filterAppliances('cooling')">Ø§Ù„ØªØ¨Ø±ÙŠØ¯</button>
                    <button class="tab-btn" onclick="filterAppliances('other')">Ø£Ø®Ø±Ù‰</button>
                </div>
            </div>
            
            <div class="custom-appliance-form">
                <h3>â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² Ù…Ø®ØµØµ</h3>
                <div class="custom-appliance-fields">
                    <div class="form-group">
                        <label for="custom-name">Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²</label>
                        <input type="text" id="custom-name" placeholder="Ù…Ø«Ø§Ù„: Ù…ÙƒÙŠÙ Ø³Ø¨Ù„ÙŠØª">
                    </div>
                    <div class="form-group">
                        <label for="custom-wattage">Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ (ÙˆØ§Øª)</label>
                        <input type="number" id="custom-wattage" min="1" placeholder="Ù…Ø«Ø§Ù„: 1500">
                    </div>
                    <div class="form-group">
                        <label for="custom-surge">Ù‚Ù…Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ (ÙˆØ§Øª)</label>
                        <input type="number" id="custom-surge" min="1" placeholder="Ù…Ø«Ø§Ù„: 3000 (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    </div>
                    <div class="form-group">
                        <label for="custom-hours">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</label>
                        <input type="number" id="custom-hours" min="0" step="0.5" value="5" placeholder="Ù…Ø«Ø§Ù„: 8">
                    </div>
                    <div class="form-group">
                        <label for="custom-category">Ø§Ù„ÙØ¦Ø©</label>
                        <select id="custom-category">
                            <option value="other">Ø£Ø®Ø±Ù‰</option>
                            <option value="lighting">Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©</option>
                            <option value="kitchen">Ø§Ù„Ù…Ø·Ø¨Ø®</option>
                            <option value="electronics">Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
                            <option value="appliances">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©</option>
                            <option value="cooling">Ø§Ù„ØªØ¨Ø±ÙŠØ¯</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="custom-icon">Ø£ÙŠÙ‚ÙˆÙ†Ø©</label>
                        <select id="custom-icon">
                            <option value="ğŸ’¡">ğŸ’¡ Ø¥Ø¶Ø§Ø¡Ø©</option>
                            <option value="â„ï¸">â„ï¸ ØªØ¨Ø±ÙŠØ¯</option>
                            <option value="ğŸ“º">ğŸ“º ØªÙ„ÙØ§Ø²</option>
                            <option value="ğŸ’»">ğŸ’» Ø­Ø§Ø³ÙˆØ¨</option>
                            <option value="ğŸ”Œ">ğŸ”Œ Ø¬Ù‡Ø§Ø²</option>
                            <option value="ğŸ“±">ğŸ“± Ø¬ÙˆØ§Ù„</option>
                            <option value="ğŸ³">ğŸ³ Ø·Ø¨Ø®</option>
                            <option value="ğŸ§Š">ğŸ§Š Ø«Ù„Ø§Ø¬Ø©</option>
                            <option value="ğŸŒ€">ğŸŒ€ ØºØ³Ø§Ù„Ø©</option>
                            <option value="ğŸ“¡">ğŸ“¡ Ø±Ø§ÙˆØªØ±</option>
                        </select>
                    </div>
                </div>
                <div class="custom-appliance-controls">
                    <button class="btn-success" onclick="addCustomAppliance()">Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø²</button>
                    <button class="btn-danger" onclick="clearCustomForm()" style="display: none;">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </div>
            
            <div class="appliance-grid" id="appliances-container">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø¨Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¹Ø¨Ø± JavaScript -->
            </div>
            
            <button class="btn-success" onclick="calculateCompatibility()">Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚</button>
        </div>
        
        <div class="results-section" id="results-section">
            <div class="card">
                <h2 class="card-title">ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h2>
                
                <div class="compatibility-summary">
                    <h3>Ù…Ù„Ø®Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚</h3>
                    <div class="compatibility-item">
                        <span>ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ</span>
                        <span class="compatibility-status" id="panel-compatibility-status">-</span>
                    </div>
                    <div class="compatibility-item">
                        <span>ØªÙˆØ§ÙÙ‚ Ø³Ø¹Ø© Ø§Ù„Ù…Ø­ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ø£Ø­Ù…Ø§Ù„</span>
                        <span class="compatibility-status" id="inverter-compatibility-status">-</span>
                    </div>
                    <div class="compatibility-item">
                        <span>ØªÙˆØ§ÙÙ‚ Ø³Ø¹Ø© Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ</span>
                        <span class="compatibility-status" id="battery-compatibility-status">-</span>
                    </div>
                </div>
                
                <div class="selected-appliances-table">
                    <h3>Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</h3>
                    <table id="selected-appliances-table">
                        <thead>
                            <tr>
                                <th>Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²</th>
                                <th>Ø§Ù„Ø¹Ø¯Ø¯</th>
                                <th>Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ (ÙˆØ§Øª)</th>
                                <th>Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„</th>
                                <th>Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ (ÙˆØ§Ø·/Ø³Ø§Ø¹Ø©)</th>
                            </tr>
                        </thead>
                        <tbody id="selected-appliances-body">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <div class="energy-calculation">
                    <h3>Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø©</h3>
                    
                    <div class="calculation-step">
                        <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠ</h4>
                        <div class="formula" id="daily-consumption-formula">0 ÙˆØ§Ø·/Ø³Ø§Ø¹Ø©</div>
                    </div>
                    
                    <div class="calculation-step">
                        <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø´Ù…Ø³ÙŠØ©</h4>
                        <div class="formula" id="panel-production-formula">0 ÙˆØ§Ø·/Ø³Ø§Ø¹Ø©</div>
                    </div>
                    
                    <div class="calculation-step">
                        <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø³Ø¹Ø© ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª</h4>
                        <div class="formula" id="battery-capacity-formula">0 ÙˆØ§Ø·/Ø³Ø§Ø¹Ø©</div>
                    </div>
                </div>
                
                <div class="summary-card success">
                    <h3>Ø§Ù„ØªÙˆØµÙŠØ§Øª</h3>
                    <div class="recommendations">
                        <ul id="recommendations-list">
                            <li>Ø§Ø®ØªØ± Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚"</li>
                        </ul>
                    </div>
                </div>
                
                <div class="share-section" style="display: none;">
                    <h3>Ø´Ø§Ø±Ùƒ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                    <p>Ø´Ø§Ø±Ùƒ Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ ÙÙ†ÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø£Ùˆ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</p>
                    
                    <div class="share-buttons">
                        <button class="share-btn whatsapp" onclick="shareViaWhatsApp()">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
                            ÙˆØ§ØªØ³Ø§Ø¨
                        </button>
                    </div>
                    
                    <div class="signature">
                        <p>ØªÙ… ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨ÙˆØ§Ø³Ø·Ø© <a href="mailto:merghanigasimosman@gmail.com">Ù…ÙŠØ±ØºÙ†ÙŠ Ø£Ø¨ÙˆØ§Ù„Ù‚Ø§Ø³Ù… Ø¹Ø«Ù…Ø§Ù†</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let customAppliances = [];
        let editingApplianceId = null;
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
        const commonAppliances = [
            { id: 1, name: "Ù„Ù…Ø¨Ø© LED", wattage: 10, dailyHours: 8, category: "lighting", icon: "ğŸ’¡" },
            { id: 2, name: "Ù…Ø±ÙˆØ­Ø© Ø³Ù‚Ù", wattage: 75, dailyHours: 6, category: "cooling", icon: "ğŸŒ€" },
            { id: 3, name: "Ø«Ù„Ø§Ø¬Ø©", wattage: 150, surge: 300, dailyHours: 24, category: "kitchen", icon: "ğŸ§Š" },
            { id: 4, name: "ØªÙ„ÙØ²ÙŠÙˆÙ† LED", wattage: 80, dailyHours: 5, category: "electronics", icon: "ğŸ“º" },
            { id: 5, name: "Ø­Ø§Ø³ÙˆØ¨ Ù…Ø­Ù…ÙˆÙ„", wattage: 50, dailyHours: 4, category: "electronics", icon: "ğŸ’»" },
            { id: 6, name: "Ø±Ø§ÙˆØªØ±", wattage: 10, dailyHours: 24, category: "electronics", icon: "ğŸ“¡" },
            { id: 7, name: "ØºØ³Ø§Ù„Ø© Ù…Ù„Ø§Ø¨Ø³", wattage: 500, surge: 1000, dailyHours: 1, category: "appliances", icon: "ğŸŒ€" },
            { id: 8, name: "Ù…ÙƒÙˆØ§Ø©", wattage: 1000, dailyHours: 0.5, category: "appliances", icon: "ğŸ”Œ" },
            { id: 9, name: "Ø³Ø®Ø§Ù† Ù…Ø§Ø¡", wattage: 2000, dailyHours: 1, category: "appliances", icon: "ğŸ”¥" },
            { id: 10, name: "Ù…ÙƒÙŠÙ Ù‡ÙˆØ§Ø¡ (1 Ø·Ù†)", wattage: 1000, surge: 2000, dailyHours: 8, category: "cooling", icon: "â„ï¸" },
            { id: 11, name: "Ù…ÙŠÙƒØ±ÙˆÙˆÙŠÙ", wattage: 800, dailyHours: 0.5, category: "kitchen", icon: "ğŸ³" },
            { id: 12, name: "Ø®Ù„Ø§Ø·", wattage: 300, dailyHours: 0.25, category: "kitchen", icon: "ğŸ³" }
        ];

        // ØªØµÙÙŠØ© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
        function filterAppliances(category) {
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            const container = document.getElementById('appliances-container');
            container.innerHTML = '';
            
            const allAppliances = [...commonAppliances, ...customAppliances];
            const filtered = category === 'all' 
                ? allAppliances 
                : allAppliances.filter(app => app.category === category);
            
            displayAppliances(filtered);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
        function displayAppliances(appliances) {
            const container = document.getElementById('appliances-container');
            container.innerHTML = '';
            
            if (appliances.length === 0) {
                container.innerHTML = '<p style="grid-column:1/-1; text-align:center; color:#666;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¬Ù‡Ø²Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©</p>';
                return;
            }
            
            appliances.forEach(appliance => {
                const card = document.createElement('div');
                card.className = 'appliance-card';
                card.dataset.id = appliance.id;
                card.innerHTML = `
                    <div class="appliance-header">
                        <span class="appliance-icon">${appliance.icon}</span>
                        <h4>${appliance.name} ${appliance.id > 10000 ? '<span style="color:#666;font-size:0.8em;">(Ù…Ø®ØµØµ)</span>' : ''}</h4>
                    </div>
                    <div class="appliance-details">
                        <div><strong>Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ:</strong> ${appliance.wattage} ÙˆØ§Øª</div>
                        ${appliance.surge ? `<div><strong>Ù‚Ù…Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„:</strong> ${appliance.surge} ÙˆØ§Øª</div>` : ''}
                        <div><strong>Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ:</strong> ${appliance.dailyHours} Ø³Ø§Ø¹Ø©</div>
                    </div>
                    <div class="appliance-controls">
                        <label>
                            <input type="checkbox" class="appliance-check" 
                                   data-id="${appliance.id}"
                                   data-name="${appliance.name}"
                                   data-wattage="${appliance.wattage}" 
                                   data-surge="${appliance.surge || appliance.wattage}">
                            Ø§Ø®ØªØ±
                        </label>
                        <div class="quantity-control">
                            <label>Ø§Ù„Ø¹Ø¯Ø¯:</label>
                            <input type="number" class="appliance-quantity" value="1" min="1">
                        </div>
                        <div class="hours-control">
                            <label>Ø§Ù„Ø³Ø§Ø¹Ø§Øª:</label>
                            <input type="number" class="appliance-hours" value="${appliance.dailyHours}" min="0" step="0.5">
                        </div>
                    </div>
                    ${appliance.id > 10000 ? `
                    <div class="appliance-actions">
                        <button class="edit-btn" onclick="editAppliance(${appliance.id})">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="delete-btn" onclick="deleteAppliance(${appliance.id})">Ø­Ø°Ù</button>
                    </div>
                    ` : ''}
                `;
                container.appendChild(card);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² Ù…Ø®ØµØµ
        function addCustomAppliance() {
            const name = document.getElementById('custom-name').value;
            const wattage = parseInt(document.getElementById('custom-wattage').value);
            const surge = parseInt(document.getElementById('custom-surge').value) || wattage;
            const hours = parseFloat(document.getElementById('custom-hours').value);
            const category = document.getElementById('custom-category').value;
            const icon = document.getElementById('custom-icon').value;
            
            if (!name || !wattage || !hours) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
                return;
            }
            
            if (editingApplianceId) {
                // ØªØ¹Ø¯ÙŠÙ„ Ø¬Ù‡Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯
                const index = customAppliances.findIndex(a => a.id === editingApplianceId);
                if (index !== -1) {
                    customAppliances[index] = {
                        id: editingApplianceId,
                        name,
                        wattage,
                        surge,
                        dailyHours: hours,
                        category,
                        icon
                    };
                }
                editingApplianceId = null;
                document.querySelector('.custom-appliance-controls button.btn-danger').style.display = 'none';
            } else {
                // Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯
                const newId = 10000 + customAppliances.length + 1;
                customAppliances.push({
                    id: newId,
                    name,
                    wattage,
                    surge,
                    dailyHours: hours,
                    category,
                    icon
                });
            }
            
            clearCustomForm();
            filterAppliances('all');
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ø¬Ù‡Ø§Ø² Ù…Ø®ØµØµ
        function editAppliance(id) {
            const appliance = customAppliances.find(a => a.id === id);
            if (!appliance) return;
            
            document.getElementById('custom-name').value = appliance.name;
            document.getElementById('custom-wattage').value = appliance.wattage;
            document.getElementById('custom-surge').value = appliance.surge;
            document.getElementById('custom-hours').value = appliance.dailyHours;
            document.getElementById('custom-category').value = appliance.category;
            document.getElementById('custom-icon').value = appliance.icon;
            
            editingApplianceId = id;
            document.querySelector('.custom-appliance-controls button.btn-danger').style.display = 'block';
            
            // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
            document.querySelector('.custom-appliance-form').scrollIntoView({ behavior: 'smooth' });
        }

        // Ø­Ø°Ù Ø¬Ù‡Ø§Ø² Ù…Ø®ØµØµ
        function deleteAppliance(id) {
            if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø²ØŸ")) {
                customAppliances = customAppliances.filter(a => a.id !== id);
                filterAppliances('all');
            }
        }

        // Ù…Ø³Ø­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø®ØµØµ
        function clearCustomForm() {
            document.getElementById('custom-name').value = '';
            document.getElementById('custom-wattage').value = '';
            document.getElementById('custom-surge').value = '';
            document.getElementById('custom-hours').value = '5';
            document.getElementById('custom-category').value = 'other';
            document.getElementById('custom-icon').value = 'ğŸ’¡';
            
            editingApplianceId = null;
            document.querySelector('.custom-appliance-controls button.btn-danger').style.display = 'none';
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©
        function toggleAdvancedOptions() {
            const options = document.querySelector('.advanced-options');
            options.classList.toggle('active');
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
        function displaySelectedAppliances(appliances) {
            const tbody = document.getElementById('selected-appliances-body');
            tbody.innerHTML = '';
            
            let totalDaily = 0;
            
            appliances.forEach(appliance => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${appliance.name}</td>
                    <td>${appliance.quantity}</td>
                    <td>${appliance.wattage}</td>
                    <td>${appliance.hours}</td>
                    <td>${appliance.wattage * appliance.quantity * appliance.hours}</td>
                `;
                tbody.appendChild(row);
                totalDaily += appliance.wattage * appliance.quantity * appliance.hours;
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
            const totalRow = document.createElement('tr');
            totalRow.style.fontWeight = 'bold';
            totalRow.style.backgroundColor = '#f0f0f0';
            totalRow.innerHTML = `
                <td colspan="4">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù‚Ø¨Ù„ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø£Ù…Ø§Ù†)</td>
                <td>${totalDaily}</td>
            `;
            tbody.appendChild(totalRow);
        }

        // Ø¯Ø§Ù„Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚
        function calculateCompatibility() {
            try {
                // Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
                const selectedAppliances = [];
                document.querySelectorAll('.appliance-check:checked').forEach(checkbox => {
                    const card = checkbox.closest('.appliance-card');
                    const quantity = parseInt(card.querySelector('.appliance-quantity').value) || 1;
                    const hours = parseFloat(card.querySelector('.appliance-hours').value) || 0;
                    
                    selectedAppliances.push({
                        id: checkbox.dataset.id,
                        name: checkbox.dataset.name,
                        wattage: parseInt(checkbox.dataset.wattage),
                        surge: parseInt(checkbox.dataset.surge),
                        quantity,
                        hours,
                        dailyConsumption: parseInt(checkbox.dataset.wattage) * quantity * hours
                    });
                });
                
                if (selectedAppliances.length === 0) {
                    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
                    return;
                }
                
                // Ø¬Ù…Ø¹ Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ Ù…Ø¹ Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø®ØµØµØ©
                const panelSize = document.getElementById('panel-size').value === 'custom' 
                    ? parseInt(document.getElementById('custom-panel-size').value) || 0
                    : parseInt(document.getElementById('panel-size').value);
                
                const panelCount = parseInt(document.getElementById('panel-count').value) || 1;
                
                const inverterSize = document.getElementById('inverter-size').value === 'custom' 
                    ? parseInt(document.getElementById('custom-inverter-size').value) || 0
                    : parseInt(document.getElementById('inverter-size').value);
                
                const batteryCapacity = document.getElementById('battery-capacity').value === 'custom' 
                    ? parseInt(document.getElementById('custom-battery-capacity').value) || 0
                    : parseInt(document.getElementById('battery-capacity').value);
                
                const batteryCount = parseInt(document.getElementById('battery-count').value) || 1;
                const batteryVoltage = parseInt(document.getElementById('battery-voltage').value);
                const sunHours = parseInt(document.getElementById('sun-hours').value);
                const backupDays = parseInt(document.getElementById('backup-days').value);
                
                // Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                const safetyMargin = parseInt(document.getElementById('safety-margin').value) || 20;
                const systemLosses = parseInt(document.getElementById('system-losses').value) || 15;
                const batteryDod = parseInt(document.getElementById('battery-dod').value) || 50;
                
                // Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ
                let totalDailyConsumption = 0;
                let peakLoad = 0;
                
                selectedAppliances.forEach(appliance => {
                    totalDailyConsumption += appliance.wattage * appliance.quantity * appliance.hours;
                    peakLoad += appliance.surge * appliance.quantity;
                });
                
                // ØªØ·Ø¨ÙŠÙ‚ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø£Ù…Ø§Ù†
                totalDailyConsumption = totalDailyConsumption * (1 + safetyMargin/100);
                
                // Ø­Ø³Ø§Ø¨ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø´Ù…Ø³ÙŠØ©
                const totalPanelProduction = panelSize * panelCount * sunHours * (1 - systemLosses/100);
                
                // Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø© Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª
                const totalBatteryCapacity = batteryCapacity * batteryCount * batteryVoltage * (batteryDod/100);
                const usableBatteryCapacity = totalBatteryCapacity * backupDays;
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚
                const panelCompatibility = totalPanelProduction >= totalDailyConsumption;
                const inverterCompatibility = inverterSize >= peakLoad;
                const batteryCompatibility = usableBatteryCapacity >= totalDailyConsumption;
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                document.getElementById('daily-consumption-formula').textContent = 
                    `${Math.round(totalDailyConsumption)} ÙˆØ§Ø·/Ø³Ø§Ø¹Ø© (Ø¨Ø¹Ø¯ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø£Ù…Ø§Ù† ${safetyMargin}%)`;
                
                document.getElementById('panel-production-formula').textContent = 
                    `${Math.round(totalPanelProduction)} ÙˆØ§Ø·/Ø³Ø§Ø¹Ø© (${panelSize} ÙˆØ§Øª Ã— ${panelCount} Ø£Ù„ÙˆØ§Ø­ Ã— ${sunHours} Ø³Ø§Ø¹Ø§Øª Ã— ${100-systemLosses}% ÙƒÙØ§Ø¡Ø©)`;
                
                document.getElementById('battery-capacity-formula').textContent = 
                    `${Math.round(usableBatteryCapacity)} ÙˆØ§Ø·/Ø³Ø§Ø¹Ø© (${batteryCapacity} Ø£Ù…Ø¨ÙŠØ± Ã— ${batteryCount} Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ã— ${batteryVoltage} ÙÙˆÙ„Øª Ã— ${backupDays} Ø£ÙŠØ§Ù… Ã— ${batteryDod}% ØªÙØ±ÙŠØº Ù…Ø³Ù…ÙˆØ­)`;
                
                // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚
                document.getElementById('panel-compatibility-status').textContent = 
                    panelCompatibility ? 'Ù…ØªÙˆØ§ÙÙ‚' : 'ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚';
                document.getElementById('panel-compatibility-status').className = 
                    panelCompatibility ? 'compatibility-status status-compatible' : 'compatibility-status status-danger';
                
                document.getElementById('inverter-compatibility-status').textContent = 
                    inverterCompatibility ? 'Ù…ØªÙˆØ§ÙÙ‚' : 'ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚';
                document.getElementById('inverter-compatibility-status').className = 
                    inverterCompatibility ? 'compatibility-status status-compatible' : 'compatibility-status status-danger';
                
                document.getElementById('battery-compatibility-status').textContent = 
                    batteryCompatibility ? 'Ù…ØªÙˆØ§ÙÙ‚' : 'ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚';
                document.getElementById('battery-compatibility-status').className = 
                    batteryCompatibility ? 'compatibility-status status-compatible' : 'compatibility-status status-danger';
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
                displaySelectedAppliances(selectedAppliances);
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙˆØµÙŠØ§Øª
                const recommendationsList = document.getElementById('recommendations-list');
                recommendationsList.innerHTML = '';
                
                if (!panelCompatibility) {
                    const neededPanels = Math.ceil(totalDailyConsumption / (panelSize * sunHours * (1 - systemLosses/100)));
                    recommendationsList.innerHTML += `<li>ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ${neededPanels} Ù„ÙˆØ­ Ø´Ù…Ø³ÙŠ ${panelSize} ÙˆØ§Øª Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</li>`;
                }
                
                if (!inverterCompatibility) {
                    const neededInverter = Math.ceil(peakLoad / 500) * 500;
                    recommendationsList.innerHTML += `<li>ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø­ÙˆÙ„ (Ø¥Ù†ÙØ±ØªØ±) Ø¨Ø³Ø¹Ø© ${neededInverter} ÙˆØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„ØªØ­Ù…Ù„ Ø§Ù„Ø£Ø­Ù…Ø§Ù„ Ø§Ù„Ù‚ØµÙˆÙ‰</li>`;
                }
                
                if (!batteryCompatibility) {
                    const neededBatteries = Math.ceil(totalDailyConsumption / (batteryCapacity * batteryVoltage * (batteryDod/100) * backupDays));
                    recommendationsList.innerHTML += `<li>ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ${neededBatteries} Ø¨Ø·Ø§Ø±ÙŠØ© ${batteryCapacity} Ø£Ù…Ø¨ÙŠØ±/Ø³Ø§Ø¹Ø© Ù„ØªØºØ·ÙŠØ© ${backupDays} Ø£ÙŠØ§Ù…</li>`;
                }
                
                if (panelCompatibility && inverterCompatibility && batteryCompatibility) {
                    recommendationsList.innerHTML = '<li>Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</li>';
                }
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                document.getElementById('results-section').style.display = 'block';
                document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„ØªÙˆÙ‚ÙŠØ¹
                document.querySelector('.share-section').style.display = 'block';
                
            } catch (error) {
                console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚:", error);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø£ÙˆÙ„Ø§Ù‹.");
            }
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ - Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
        function shareViaWhatsApp() {
            try {
                // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                const panelStatus = document.getElementById('panel-compatibility-status').textContent;
                const inverterStatus = document.getElementById('inverter-compatibility-status').textContent;
                const batteryStatus = document.getElementById('battery-compatibility-status').textContent;
                
                // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
                let appliancesText = "";
                const rows = document.querySelectorAll('#selected-appliances-body tr');
                
                rows.forEach((row, index) => {
                    const cells = row.cells;
                    if (cells.length === 5 && index < rows.length - 1) { // ØªØ¬Ø§Ù‡Ù„ ØµÙ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
                        appliancesText += `- ${cells[0].textContent} (${cells[1].textContent}Ã—${cells[2].textContent} ÙˆØ§Øª Ã— ${cells[3].textContent} Ø³Ø§Ø¹Ø©)\n`;
                    }
                });
                
                // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ
                const totalRow = rows[rows.length - 1];
                const totalConsumption = totalRow?.cells[4]?.textContent || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨
                const message = `*Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©*\n\n` +
                                `*Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©:*\n${appliancesText}\n` +
                                `*Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ:* ${totalConsumption} ÙˆØ§Ø·/Ø³Ø§Ø¹Ø©\n\n` +
                                `*Ù…Ù„Ø®Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚*\n` +
                                `- Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø´Ù…Ø³ÙŠØ©: ${panelStatus}\n` +
                                `- Ø§Ù„Ù…Ø­ÙˆÙ„ (Ø§Ù„Ø¥Ù†ÙØ±ØªØ±): ${inverterStatus}\n` +
                                `- Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª: ${batteryStatus}\n\n` +
                                `ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨ÙˆØ§Ø³Ø·Ø© *Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©*\n` +
                                `ØªØµÙ…ÙŠÙ…: Ù…ÙŠØ±ØºÙ†ÙŠ Ø£Ø¨ÙˆØ§Ù„Ù‚Ø§Ø³Ù… Ø¹Ø«Ù…Ø§Ù†\n` +
                                `merghanigasimosman@gmail.com`;
                
                // ØªØ´ÙÙŠØ± Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ¥Ø±Ø³Ø§Ù„Ù‡Ø§
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
                
                // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§ØªØ³Ø§Ø¨
                window.open(whatsappUrl, '_blank');
                
            } catch (error) {
                console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:", error);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        window.onload = function() {
            // Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø£ÙˆÙ„Ø§Ù‹
            filterAppliances('all');
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø®ØµØµØ©
            const setupCustomInput = (selectId, inputId, containerId) => {
                const select = document.getElementById(selectId);
                const input = document.getElementById(inputId);
                const container = document.getElementById(containerId);
                
                select.addEventListener('change', function() {
                    if (this.value === 'custom') {
                        container.style.display = 'block';
                        input.focus();
                    } else {
                        container.style.display = 'none';
                    }
                });
                
                input.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.focus();
                });
            };
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø®ØµØµØ©
            setupCustomInput('panel-size', 'custom-panel-size', 'custom-panel-size-container');
            setupCustomInput('inverter-size', 'custom-inverter-size', 'custom-inverter-size-container');
            setupCustomInput('battery-capacity', 'custom-battery-capacity', 'custom-battery-capacity-container');
        };
    </script>
</body>
    </html>
